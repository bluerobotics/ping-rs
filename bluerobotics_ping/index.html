<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="🦀 Ping Library 🔊"><title>bluerobotics_ping - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-c5d6553a23f1e5a6.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="bluerobotics_ping" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0 (eeb90cda1 2024-09-04)" data-channel="1.81.0" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-d2fab2bf619172d3.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../bluerobotics_ping/index.html"><img src="https://upload.wikimedia.org/wikipedia/commons/1/12/Bluerobotics-logo.svg" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../bluerobotics_ping/index.html"><img src="https://upload.wikimedia.org/wikipedia/commons/1/12/Bluerobotics-logo.svg" alt="logo"></a><h2><a href="../bluerobotics_ping/index.html">bluerobotics_ping</a><span class="version">0.3.1</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">bluerobotics_ping</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/bluerobotics_ping/lib.rs.html#1-22">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="-ping-library-"><a class="doc-anchor" href="#-ping-library-">§</a>🦀 Ping Library 🔊</h2>
<p><a href="https://en.wikipedia.org/wiki/Sonar">SONARs</a>, or <strong>So</strong>und <strong>N</strong>avigation <strong>A</strong>nd <strong>R</strong>anging devices, transmit sound waves and measure their reflections to detect surrounding obstacles and objects.</p>
<p><a href="https://bluerobotics.com/learn/a-smooth-operators-guide-to-underwater-sonars-and-acoustic-devices/">Sonars and other acoustic devices</a> can be crucial for marine robotics (ROVs, AUVs, boats, etc), as they can provide obstacle detection and distance estimates when the visual field is limited.
Building robots with these capabilities enables precise navigation, target identification, and a considerably more efficient exploration of underwater environments.</p>
<p>The open source <a href="https://docs.bluerobotics.com/ping-protocol">Ping Protocol</a> allows precise control of sonar devices like those from <a href="https://bluerobotics.com/product-category/sonars/">Blue Robotics</a>, enabling easy integration in your custom applications.</p>
<p>This library provides access to all capabilities of <strong>ping</strong> family devices, with all the benefits of the Rust development ecosystem!</p>
<p>Here is a minimal example:</p>
<div class="example-wrap"><pre class="language-rs"><code>use bluerobotics_ping::{
    device::{Ping1D, PingDevice},
    error::PingError,
};
use tokio_serial::{SerialPort, SerialPortBuilderExt};

#[tokio::main]
async fn main() -&gt; Result&lt;(), PingError&gt; {
    let port = tokio_serial::new(&quot;/dev/ttyUSB0&quot;, 115200).open_native_async()?;
    port.clear(tokio_serial::ClearBuffer::All)?;
    let ping1d = Ping1D::new(port);

    println!(&quot;{:#?}&quot;, ping1d.device_information().await?);
    println!(&quot;{:#?}&quot;, ping1d.general_info().await?);
    println!(&quot;{:#?}&quot;, ping1d.distance().await?);
    Ok(())
}
</code></pre></div>
<p>Try <strong>ping</strong> today!</p>
<h2 id="-documentation"><a class="doc-anchor" href="#-documentation">§</a>📖 Documentation:</h2>
<ul>
<li><a href="https://bluerobotics.com/store/sonars/echosounders/ping-sonar-r2-rp/">Ping Echosounder</a>
<ul>
<li>📘 <a href="https://bluerobotics.com/learn/ping-sonar-technical-guide/">Operating Principles and Usage Guide</a></li>
<li>🔧 <a href="https://bluerobotics.com/learn/ping-installation-guide-for-the-bluerov2/">BlueROV2 Installation Guide</a></li>
<li>🔧 <a href="https://bluerobotics.com/learn/ping2-integration-kit-for-blueboat-installation-guide/">BlueBoat Integration Guide</a></li>
</ul>
</li>
<li><a href="https://bluerobotics.com/store/sonars/imaging-sonars/ping360-sonar-r1-rp/">Ping360 Scanning Imaging Sonar</a>
<ul>
<li>📘 <a href="https://bluerobotics.com/learn/understanding-and-using-scanning-sonars/">Understanding and Usage Guide</a></li>
<li>🔧 <a href="https://bluerobotics.com/learn/ping360-installation-guide-for-the-bluerov2/">BlueROV2 Installation Guide</a></li>
</ul>
</li>
<li>🦀 Getting started with <a href="https://doc.rust-lang.org/book/ch01-00-getting-started.html">Rust</a></li>
<li>🌊 Getting started with <a href="https://blueos.cloud/docs/blueos/latest/overview/">BlueOS</a></li>
<li>📚 <strong>Ping</strong> library <a href="https://docs.bluerobotics.com/ping-rs/bluerobotics_ping/">docs.</a></li>
<li>📋 Check the <a href="https://github.com/bluerobotics/ping-rs/tree/master/examples">examples</a> folder for a quick start guide</li>
</ul>
<h2 id="-how-to-use-this-crate"><a class="doc-anchor" href="#-how-to-use-this-crate">§</a>🐳 How to Use This Crate:</h2>
<p>To harness the capabilities of a <a href="https://docs.bluerobotics.com/ping-rs/bluerobotics_ping/ping1d/index.html">Ping1D</a> or <a href="https://docs.bluerobotics.com/ping-rs/bluerobotics_ping/ping360/index.html">Ping360</a> type device, instantiate the corresponding object provided by this library.</p>
<p>Ping has the capability to work with any kind of layer that implements <a href="https://tokio.rs/tokio/tutorial/io">asynchronous I/O</a> traits. The current examples are focused on serial and UDP, which are the connection methods with official support from <a href="https://bluerobotics.com/">Blue Robotics</a>.</p>
<p>Both device types have their own set of methods, as defined by the <a href="https://docs.bluerobotics.com/ping-protocol/">Ping Protocol</a> specification.</p>
<p>Check the complete set of methods:</p>
<ul>
<li><a href="https://docs.bluerobotics.com/ping-rs/bluerobotics_ping/ping1d/struct.Device.html">Ping1D</a></li>
<li><a href="https://docs.bluerobotics.com/ping-rs/bluerobotics_ping/ping360/struct.Device.html">Ping360</a></li>
</ul>
<h3 id="dolphin-to-run-examples-use"><a class="doc-anchor" href="#dolphin-to-run-examples-use">§</a>:dolphin: To run examples use:</h3><div class="example-wrap"><pre class="language-shell"><code>cargo run --example ping_1d -- --serial-port /dev/ttyUSB0
</code></pre></div><details>
  <summary>Result</summary>
<h4 id="terminal-output"><a class="doc-anchor" href="#terminal-output">§</a>Terminal output:</h4><div class="example-wrap"><pre class="language-shell"><code>Parsing user provided values...
Creating your Ping 1D device
Testing set/get device id: 9
Testing set/get device id: 8
Testing set/get device id: 7
Testing set/get device id: 6
Testing set/get device id: 5
Testing set/get device id: 4
Testing set/get device id: 3
Testing set/get device id: 2
Testing set/get device id: 1
Set gain to auto: true
Test set &amp; get with a new speed of sound: 343.0 m/s
Test set &amp; get with default speed of sound: 1500.0 m/s
Protocol version is: 1.0.0
Device id is: 1
Gain setting is: 6
Processor temperature is: 42.63 °C
Voltage at 5V lane is: 5.006 V
The distance to target is: 4538 mm
Waiting for 30 profiles...
Received 30 profiles
Turning-off the continuous messages stream from Ping1D
</code></pre></div></details>
<h4 id="-pro-tip"><a class="doc-anchor" href="#-pro-tip">§</a>⭐ <strong>Pro tip</strong></h4>
<p>For external use via UDP, consider using <a href="https://github.com/patrickelectric/bridges">bridges</a> to share your serial device to the network. Detailed instructions can be found <a href="https://github.com/patrickelectric/bridges?tab=readme-ov-file#install-zap">here</a>.</p>
<details>
  <summary>Setting up a host and client</summary>
<h5 id="on-the-host-satellite-where-ping-device-is-connected"><a class="doc-anchor" href="#on-the-host-satellite-where-ping-device-is-connected">§</a>On the host :satellite: (Where ping device is connected):</h5><div class="example-wrap"><pre class="language-shell"><code>bridges --port /dev/ttyUSB0:3000000 -u 0.0.0.0:8080 --no-udp-disconnection --abr
</code></pre></div><h5 id="on-the-client-computer"><a class="doc-anchor" href="#on-the-client-computer">§</a>On the client :computer::</h5><div class="example-wrap"><pre class="language-shell"><code>cargo run --example ping_1d -- --udp-address 192.168.0.191 --udp-port 8080
</code></pre></div></details>
<p>Enjoy exploring with ping-rs! 🌊</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="bluebps/index.html" title="mod bluerobotics_ping::bluebps">bluebps</a></div></li><li><div class="item-name"><a class="mod" href="codec/index.html" title="mod bluerobotics_ping::codec">codec</a></div></li><li><div class="item-name"><a class="mod" href="common/index.html" title="mod bluerobotics_ping::common">common</a></div></li><li><div class="item-name"><a class="mod" href="decoder/index.html" title="mod bluerobotics_ping::decoder">decoder</a></div></li><li><div class="item-name"><a class="mod" href="device/index.html" title="mod bluerobotics_ping::device">device</a></div></li><li><div class="item-name"><a class="mod" href="error/index.html" title="mod bluerobotics_ping::error">error</a></div></li><li><div class="item-name"><a class="mod" href="message/index.html" title="mod bluerobotics_ping::message">message</a></div></li><li><div class="item-name"><a class="mod" href="omniscan450/index.html" title="mod bluerobotics_ping::omniscan450">omniscan450</a></div></li><li><div class="item-name"><a class="mod" href="ping1d/index.html" title="mod bluerobotics_ping::ping1d">ping1d</a></div></li><li><div class="item-name"><a class="mod" href="ping360/index.html" title="mod bluerobotics_ping::ping360">ping360</a></div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Messages.html" title="enum bluerobotics_ping::Messages">Messages</a></div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.calculate_crc.html" title="fn bluerobotics_ping::calculate_crc">calculate_crc</a></div></li></ul></section></div></main></body></html>